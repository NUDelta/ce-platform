<template name="api_custom">
  {{#if Template.subscriptionsReady}}
    {{ > Template.dynamic template=template_name data=data2pass}}
  {{else}}
    {{loadingOverlay}}
  {{/if}}
</template>

<!--  TEMPLATE FOR CHAIR POSE -->
<template name="chairPose">
  <h4>We're building a collage of funny chair poses</h4>
  <p>Make a pose and take a selfie. In a bit, check out other people's submissions in your past experiences.</p>
    <div id="participate">
      <form class="col col-xs-12">
        {{ > Template.dynami template="camera" data=(passContributionName this.situationNeedName)}}
        <button type="submit" class="btn btn-default btn-participate btn-primary btn-block" style="border-radius: 40px; height: 38px; width: 50%; margin-top: 10px;">Submit</button>
      </form>
    </div>
</template>

<!--  TEMPLATE FOR RAINBOW COLLAGE -->
<template name="americanFlag">
  <h4>We're building a rainbow collage of our Northwestern experience</h4>
  <p>Take a picture of something ~~ <i><b>{{this.contributionTemplate.name}}</b></i>~~ to help us showcase all the colors!</p>
    <div id="participate">
      <form class="col col-xs-12">
        {{ > Template.dynamic template="camera" data=(passContributionName this.situationNeedName)}}
        <button type="submit" class="btn btn-default btn-participate btn-primary btn-block" style="border-radius: 40px; height: 38px; width: 50%; margin-top: 10px;">Submit</button>
      </form>
    </div>
</template>

<!-- TEMPLATE FOR STORYTIME -->
<template name="storyPage">
  <head>
    <style>
      h3 {
        font-size: 20px;
      }
      #title-storybook{
        background-color:#3e50b4;
        border-radius: 2px;
        color:white;
        padding-top: 0px;
        padding: 10px;
        margin-top: 5px;
        margin-bottom: 5px;
      }
      a {
        padding-bottom: 0px;
        margin-bottom: 0px;
      }
      p {
        font-size:0.9em;
        line-height:1.7em;
        color: #616161;
      }
      .step-content {
        padding-left: 20px;
        padding-right: 20px;
      }
      .step, h4 {
        font-size: 18px;
        margin-left: -15px;
        margin-bottom: 20px;
      }
      #prevSentence {
        padding: 5px;
        font-weight: 700;
      }
      #dropdown {
        padding-bottom: 10px;
      }
    </style>
  </head>

  <div id="participate">
    <form class="col col-xs-12">
      <div class="row">
        <h3 class="col-xs-12 text-center" id="title-storybook">Help us write and illustrate a story</h3>
        <p>We're creating a collaborative story by asking people to contribute photos and text.</p>
      </div>

      <h4 class="step">Step 1: Illustrate a sentence</h4>
      <div class="row step-content">
        <p>
          Take a photo that describes the sentence below.
        </p>
        <div id="prevSentence" class="text-center">
          <em>"{{getPrevSentence this.submissions}}"</em>
        </div>
        {{ > Template.dynamic template="camera" data=(passContributionName "illustration")}}
      </div>

      {{#if notLastPage}}
        <h4 class="step">Step 2: Write the next sentence</h4>
        <div class="row step-content">
          <p>
            Select a phrase and write the next sentence on page {{getPageNum}} of 8 in the story using that phrase.<br>
          </p>
          <div id="dropdown">Phrase: {{ > Template.dynamic template="dropdown" data=(passContributionName "nextAffordance")}}</div>
        </div>
        <div class="row step-content">
          {{ > Template.dynamic template="text" data=(passContributionName "nextSentence")}}
        </div>
      {{/if}}

      <button type="submit" class="btn btn-default btn-participate btn-primary btn-block" style="border-radius: 40px; height: 38px; width: 50%; margin-top: 10px;">Submit</button>
    </form>
  </div>
</template>
